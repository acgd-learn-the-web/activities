var ActivityRunner=function(){"use strict";var e,t={start:null},n={},i={failure:document.querySelectorAll('[data-screen="failure"] p'),success:document.querySelectorAll('[data-screen="success"] p')},c=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},s=function(){var e=document.querySelectorAll("[data-screen]"),t=0,i=e.length;for(t;i>t;t++)n[e[t].getAttribute("data-screen")]=e[t]},o=function(e){n[e].hidden=n[e].hidden?!1:!0},r=function(t,n){o(t),e=setTimeout(function(){var i=t,c=n;clearTimeout(e),o(i),c&&c()},700)},u=function(e){var t=0,n=e.length,i=Math.floor(Math.random()*n);for(t;n>t;t++)e[t].hidden=!0;e[i].hidden=!1},a=function(e){r("success",e),u(i.success)},l=function(e){r("failure",e),u(i.failure)},d=function(){o("end")},f=function(e,t){switch(e){case"success":a(t);break;case"failure":l(t);break;case"end":d(t)}},m=function(e,n){t[e]=n},g=function(e){t[e]()},h=function(){document.getElementById("start-button").addEventListener("click",function(){o("start"),g("start")})};return s(),h(),{escape:c,toggleScreen:o,send:f,listen:m}},CodeCompare=function(e,t){"use strict";var n=null,i=0,c={form:document.getElementById("question-form")},s=function(){n=ace.edit("editor"),n.setTheme("ace/theme/idle_fingers"),n.getSession().setMode("ace/mode/html"),n.getSession().setUseSoftTabs(!1),n.getSession().setTabSize(2),n.getSession().setUseWrapMode(!1),n.setHighlightActiveLine(!0),n.setDisplayIndentGuides(!0),n.setShowInvisibles(!0),n.setShowPrintMargin(!1),n.setShowFoldWidgets(!1),n.getSession().setOption("useWorker",!1)},o=function(){c.form.addEventListener("submit",function(e){e.preventDefault(),l()})},r=function(){return!(i==t.length-1)},u=function(e){n.setValue(t[e].incorrect),n.navigateFileStart(),n.focus()},a=function(){r()?(i++,u(i)):(e.toggleScreen("main"),e.send("end"))},l=function(){switch(d()){case"yes":e.send("success",function(){a()});break;case"no":e.send("failure",function(){n.focus()});break;default:e.send("failure",function(){n.focus()})}},d=function(){return n.getValue()===t[i].correct?"yes":"no"};s(),o(),e.listen("start",function(){u(i),e.toggleScreen("main")})},MultipleChoice=function(e,t){"use strict";var n=0,i={title:document.getElementById("question-title"),choices:document.getElementById("question-choices"),form:document.getElementById("question-form")},c=function(){i.form.addEventListener("submit",function(e){e.preventDefault(),a()})},s=function(){return!(n==t.length-1)},o=function(t,n){var i,c,s;return i=document.createElement("li"),c=document.createElement("input"),c.setAttribute("type","radio"),c.setAttribute("name","question-choices"),c.id="choice-"+t,c.setAttribute("data-id",t),i.appendChild(c),s=document.createElement("label"),s.setAttribute("for","choice-"+t),s.innerHTML=e.escape(n),i.appendChild(s),i},r=function(n){var c=0,s=t[n].choices.length;for(i.choices.innerHTML="",i.title.innerHTML=e.escape(t[n].question),c;s>c;c++)i.choices.appendChild(o(c,t[n].choices[c]))},u=function(){s()?(n++,r(n)):(e.toggleScreen("main"),e.send("end"))},a=function(){switch(l()){case"yes":e.send("success",function(){u()});break;case"no":e.send("failure");break;default:e.send("failure")}},l=function(){var e=i.choices.querySelector(":checked");if(e)return parseInt(e.getAttribute("data-id"),10)==t[n].correct?"yes":"no"};c(),e.listen("start",function(){r(n),e.toggleScreen("main")})};